---
- summary: |
    Тестируемые поля регистрации email и password
  requirement: |
    Проверить, отображаются сообщения об ошибке, если поля оставить пустыми
  prerequisites:
    Открыта страница авторизации
  test-data: |
    NULL
  steps:
    - Ждем Submit
  expected-result: |
    Пользователь должен получить сообщение об ошибке

- summary: |
    Успешная регистрация пользователя
  requirement: |
    Пользователь должен авторизоваться на сайте
  prerequisites:
    Открыта страница регистрации
  test-data: |
    Nickname: test
    Password: password
    E-mail: ilona@mail.ru
  steps:
    - Ввести Nickname
    - Ввести Email
    - Ввести Password
    - Ввести Password Confirmation
  expected-result: |
    Пользователь успешно зарегистрирован

- summary: 
    Успешная регистрация пользователя через Github
  requirement: |
    Пользователь должен авторизоваться на сайте
  prerequisites:
    Пользователь зарегистрирован на Github
  test-data: |
    Открыта страница авторизации. 
  steps:
    - Нажимаем на кнопку Sign in with Github
  expected-result: |
    Пользователь успешно авторизирован

- summary: |
    Успешная авторизация пользователя через Discord
  requirement: |
    Пользователь должен авторизоваться на сайте
  prerequisites: |
    Пользователь зарегистрирован в Discord
  test-data: |
    Открыта страница авторизации. 
  steps:
    - Нажимаем на кнопку Sign in with Discord
    - Подтверждаем желание авторизоваться на странице дискорда
  expected-result: |
    Пользователь успешно авторизирован

- summary: |
    Проверка входа пользователя с существующими email и password
  requirement: |
    При верном вводе логине и пароля пользователь должен войти в систему
  prerequisites: |
    Открыта страница логина
  test-data: |
    email = ilona@mail.ru Пароль = password
  steps:
    - Вводим email
    - Вводим password
    - Нажимаем кнопку «Submit»
  expected-result: |
    Пользователь должен попасть на главную страницу

- summary: |
    Проверка входа пользователя с несуществующими email и password
  requirement: |
    При неправильном логине или пароле пользователь должен получить сообщение об ошибке
  prerequisites:
    Открыта страница логина
  test-data: |
    email = hexlet; Пароль = badpass
  steps:
    - Вводим email
    - Вводим password
    - Нажимаем кнопку «Submit»
  expected-result: |
    Пользователь должен получить сообщение об ошибке

- summary: |
    Создание игры без регистрации
  requirement: |
    Убедиться что пользователь может создавать игру без регистрации
  prerequisites: |
    Открыта главная страница https://codebattle.hexlet.io
  test-data: |
    NULL
  steps:
    - Жмем TRY SIMPLE BATTLE
  expected-result: |
    Игра создана и пользователь может играть

- summary: |
    Создание игры в режиме (With other user)
  requirement: |
    Убедиться что пользователь может создавать игру
  prerequisites:
    Открыта страница https://codebattle.hexlet.io/#lobby; Пользователь авторизован в сети;
  test-data: |
    Игра создана с любимы настройками
  steps:
    - Нажимаем Create a game
    - Выбираем with other user
    - Нажимаем кнопку Create battle
    - Ожидаем подключение другого игрока
  expected-result: |
    Пользователь может создать игру, а так же к игре возможно присоединиться через лобби или ссылку

- summary: |
     Создание игры в режиме (With a friend)
  requirement: |
    Убедиться что пользователь может создавать игру
  prerequisites: |
    Открыта страница https://codebattle.hexlet.io/#lobby; Пользователь авторизован в сети;
  test-data: |
    Игра создана с любимы настройками
    Choose opponent выбираем vtm test
  steps:
    - Нажимаем Create a game
    - Выбираем With a friend
    - Нажимаем кнопку Create battle
  expected-result: |
    Пользователь может создать игру, а так же другой игрок получил приглашение.

- summary: |
    Создание игры в режиме (With a bot)
  requirement: |
    Убедиться что пользователь может создавать игру
  prerequisites:
    Открыта страница https://codebattle.hexlet.io/#lobby; Пользователь авторизован в сети;
  test-data: |
    Игра создана с любимы настройками
  steps:
    - Нажимаем Create a game
    - Выбираем With a bot
    - Нажимаем кнопку Create battle
  expected-result: |
     Пользователь может создать игру, а так же пользователь видит интерфейс игры с ботом

- summary: |
    Подключение к игре через лобби
  requirement: |
    Пользователь может подключиться к игре созданная другим игроком
  prerequisites: |
    Открыта страница https://codebattle.hexlet.io/#lobby; Оба пользователя зарегистрированы в сети
  test-data: |
    NULL
  steps:
    - Выбираем любую из созданных игр в лобби
    - Нажимаем Fight
  expected-result: |
    Пользователь подключился к игре

- summary: |
    Проверка чата в лобби
  requirement: |
    Сообщения от пользователя видно всем пользователям
  prerequisites:
    Открыта страница https://codebattle.hexlet.io/#lobby; Пользователь авторизован в сети;
  test-data: |
    !@#$%^&*()_=-+
  steps:
    - Вводим сообщение в чат
    - Нажимаем кнопку Send
  expected-result: |
    Пользователи видят сообщение в чате
    
- summary: |
    Проверка чата в режиме (direct message)
  requirement: |
    Проверить что другому пользователю приходят direct message
  prerequisites: |
    Открыта страница https://codebattle.hexlet.io/#lobby; Пользователь авторизован в сети;
  test-data: |
    !@#$%^&*()_=-+; выбираем любого пользователя в чате
  steps:
    - Выбираем строчку "direct message"
    - Вводим сообщение в приватный чат
    - Нажимаем кнопку Send
  expected-result: |
    Пользователь отправил приватное сообщение

- summary: |
    Проверка подлючения к игре как зрителя
  requirement: |
    Другие пользователи могут следить за ходом игры
  prerequisites:
    Открыта страница https://codebattle.hexlet.io/#lobby; Пользователь авторизован в сети;
  test-data: |
    Выбираем любую игру из лобби
  steps:
    - Подлючаемся к игре
  expected-result: |
    Пользователь видит интерфейс игры других игроков

- summary: |
    Проверяем возможность решить задачу
  requirement: |
    Пользователь должен иметь возможность достигать целей игры
  prerequisites: |
    Открыта страница https://codebattle.hexlet.io/#lobby; Пользователь авторизован в сети;
    Создана игра с задачей "Rect area"
  test-data: |
    Node.js 20.11.1
    Правильный ответ: 
        const _ = require("lodash");
        const R = require("rambda");

        const solution = (width, length) => {
          return width * length;
        };

        module.exports = solution;
  steps:
    - Очистить редактор кода
    - Вставить код из test-data
    - Нажать кнопку "check solution"
  expected-result: |
    Пользователь должен увидеть модальное окно с сообщением о победе.

- summary: |
    Завершение игры по истечению времени
  requirement: |
    Пользователь должен иметь возможность завершить игру по истечению времени
  prerequisites: |
    Открыта страница https://codebattle.hexlet.io/#lobby; Пользователь авторизован в сети;
    Создана игра с таймером на 3 минуты
  test-data: |
    NULL
  steps:
    - Подождать до истечения времени
  expected-result: |
    Игра завершается после истечения времени

- summary: |
    Завершение игры по кнопке Give up
  requirement: |
    Пользователь должен иметь возможность завершить игру
  prerequisites: |
    Открыта страница https://codebattle.hexlet.io/#lobby; Пользователь авторизован в сети;
    Создана игра с любыми настройками
  test-data: |
    NULL
  steps:
    - Нажать кнопку "Give up"
    - Подтвердить решение в модальном окне
  expected-result: |
    Игра завершается и пользователю присваивается поражение

- summary: |
    Проверка переключения двух языков — русском и английском
  requirement: |
    При смене языка на английский происходит перевод всех элементов и текста в описание
  prerequisites:
    Открыта страница https://codebattle.hexlet.io/#lobby; Пользователь авторизован в сети;
    Создана игра с любыми настройками
  test-data: |
    NULL
  steps:
    - Выбираем "EN"
  expected-result: |
    Успешный перевод текста в описание на англиском языке

- summary: |
    Проверка переключения двух языков —  английском и русском
  requirement: |
    При смене языка на русский происходит перевод всех элементов и текста в описание
  prerequisites:
    Открыта страница https://codebattle.hexlet.io/#lobby; Пользователь авторизован в сети;
    Создана игра с любыми настройками
  test-data: |
    NULL
  steps:
    - Выбираем "RU"
  expected-result: |
    Успешный перевод текста в описание на русском языке

- summary: |
    Проверка функции Show guide
  requirement: |
     При нажатии на кнопку Show guide происходит перемещение с обьяснениями функций\правил игры
  prerequisites:
    Открыта страница https://codebattle.hexlet.io/#lobby; Пользователь авторизован в сети;
    Создана игра с любыми настройками
  test-data: |
    NULL
  steps:
    - Нажимаем Show guide
  expected-result: |
    Успешное перемещение с обьяснениями с 1 по 8 функций\правил игры 

- summary: |
    Проверка функции смены языка программирования
  requirement: |
     При нажатии на выпадающий список можно выбрать другой язык программирования
  prerequisites:
    Открыта страница https://codebattle.hexlet.io/#lobby; Пользователь авторизован в сети;
    Создана игра с любыми настройками
  test-data: |
    Node.js 20.11.1
  steps:
    - Нажимаем на выпадающий список
    - Выбираем Java 21
  expected-result: |
    Успешное перемещение на другой язык программирования

- summary: |
    Проверка рейтинговой системы
  requirement: |
     При победе рейтинг поднимается, при проигрыше рейтинг понижается.
  prerequisites:
    Открыта страница https://codebattle.hexlet.io/#lobby; Пользователь авторизован в сети;
    Создана игра с любыми настройками
  test-data: |
     Node.js 20.11.1
     Правильный ответ: 
        const _ = require("lodash");
        const R = require("rambda");

        const solution = (width, length) => {
          return width * length;
        };

        module.exports = solution;
  steps:
    - Запоминаем рейтинг двух игроков
    - Вставить код из test-data
    - Нажать кнопку "check solution"
    - Проверяем рейтинг игроков
  expected-result: |
    Пользователь должен увидеть модальное окно с сообщением о победе. У победителя рейтиг повышается, у проигравшего снижается.
